{% extends "base.html" %}

{% block title %}About Her{% endblock %}

{% block content %}
<div class="container-fluid py-5 mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-10 col-xl-8">
            <div class="text-center mb-5" data-aos="fade-down">
                <h1 class="romantic-title">About Darling üíï</h1>
                <p class="romantic-subtitle">Everything about my beautiful girl</p>
                
            </div>
            

            <!-- Desktop/Mobile Responsive Layout -->
            <div class="row">
                <!-- Profile Photo & Basic Info -->
                
                <div class="col-lg-4 mb-4">
                    <div class="romantic-card profile-card" data-aos="fade-right">
                        <div class="profile-photo-section">
                            
                            <div class="profile-photo-container" id="profilePhotoContainer">
                                <div class="profile-photo-placeholder" id="photoPlaceholder">
                                    <i class="fas fa-user-circle"></i>
                                    <p class="upload-text">Beautiful Darling</p>
                                </div>
                                <img id="profilePhoto" class="profile-photo-display" style="display: none;" alt="Profile Photo">
                                <div class="photo-actions">
                                    <button class="photo-btn upload-btn" onclick="selectProfilePhoto()">
                                        <i class="fas fa-camera"></i> Add Photo
                                    </button>
                                    <button class="photo-btn remove-btn" id="removePhotoBtn" onclick="removeProfilePhoto()" style="display: none;">
                                        <i class="fas fa-trash"></i> Remove
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="profile-basic-info">
                            <h3>Darling</h3>
                            <div class="basic-detail">
                                <i class="fas fa-birthday-cake"></i>
                                <span>Born November 24, 2004</span>
                            </div>
                            <div class="basic-detail">
                                <i class="fas fa-clock"></i>
                                <span>11:50 AM</span>
                            </div>
                            <div class="basic-detail">
                                <i class="fas fa-tint"></i>
                                <span>Blood Group: O+</span>
                            </div>
                            <div class="basic-detail">
                                <i class="fas fa-eye"></i>
                                <span>Vision: L 2.75, R 2.26</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Content Area -->
                <div class="col-lg-8">
                    <!-- Clothing Sizes -->
                    <div class="romantic-card mb-4" data-aos="fade-up">
                        <!-- Somewhere near top/middle -->
                        <div id="password-section" class="mb-4">
                            <input type="password" id="sensitive-password" placeholder="Enter password" class="form-control mb-2" style="max-width: 250px;">
                            <button onclick="revealSensitiveInfo()" class="btn btn-sm btn-danger">Unlock</button>
                        </div>
                        <div class="card-header">
                            <h3><i class="fas fa-tshirt"></i> Clothing Sizes</h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <div class="size-item">
                                        <div class="size-icon">üëó</div>
                                        <div class="size-details">
                                            <span class="size-label">Waist Size</span>
                                            <span class="size-value">26</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="size-item">
                                        <div class="size-icon">üëö</div>
                                        <div class="size-details">
                                            <span class="size-label">Top Size</span>
                                            <span class="size-value">XS</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="size-item">
                                        <div class="size-icon">üß•</div>
                                        <div class="size-details">
                                            <span class="size-label">Jacket Size</span>
                                            <span class="size-value">Small or Medium</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- üëô Bra Size Block -->
                                <div class="col-md-6 mb-3 sensitive-content" style="display: none;">
                                    <div class="size-item">
                                        <div class="size-icon">üëô</div>
                                        <div class="size-details">
                                            <span class="size-label">Bra Size</span>
                                            <span class="size-value">32B</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Footwear Sizes -->
                    <div class="romantic-card mb-4" data-aos="fade-up" data-aos-delay="100">
                        <div class="card-header">
                            <h3><i class="fas fa-shoe-prints"></i> Footwear Sizes</h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <div class="size-item">
                                        <div class="size-icon">üë†</div>
                                        <div class="size-details">
                                            <span class="size-label">Shoe Size</span>
                                            <span class="size-value">7</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="size-item">
                                        <div class="size-icon">üë£</div>
                                        <div class="size-details">
                                            <span class="size-label">Feet Size</span>
                                            <span class="size-value">38</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 mb-3">
                                    <div class="size-item">
                                        <div class="size-icon">üëü</div>
                                        <div class="size-details">
                                            <span class="size-label">Preferred Sneakers</span>
                                            <span class="size-value">Size 40</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Jewelry Sizes -->
                    <div class="romantic-card mb-4" data-aos="fade-up" data-aos-delay="150">
                        <div class="card-header">
                            <h3><i class="fas fa-gem"></i> Jewelry Sizes & Preferences</h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <div class="size-item">
                                        <div class="size-icon">üíç</div>
                                        <div class="size-details">
                                            <span class="size-label">Index Finger Ring</span>
                                            <span class="size-value">Size 11 (Indian)</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="size-item">
                                        <div class="size-icon">üìø</div>
                                        <div class="size-details">
                                            <span class="size-label">Preferred Necklaces</span>
                                            <span class="size-value">Silver Thin (Giva)</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="size-item">
                                        <div class="size-icon">üíé</div>
                                        <div class="size-details">
                                            <span class="size-label">Diamond Cut</span>
                                            <span class="size-value">Square Cut</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="size-item">
                                        <div class="size-icon">üíô</div>
                                        <div class="size-details">
                                            <span class="size-label">Gemstone Preference</span>
                                            <span class="size-value">Sapphire & Emeralds</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Special Jewelry Note -->
                    <div class="romantic-card mb-4" data-aos="fade-up" data-aos-delay="200">
                        <div class="card-header">
                            <h3><i class="fas fa-heart"></i> Dream Wedding Ring</h3>
                        </div>
                        <div class="card-body text-center">
                            <div class="dream-ring-card">
                                <div class="ring-icon">üíç</div>
                                <h4>Her Perfect Ring</h4>
                                <p><strong>Little Blue-Tinted Heart-Shaped Diamond</strong></p>
                                <p>With initials engraved inside</p>
                                <small class="text-muted">The ring that will make her heart skip a beat üíï</small>
                            </div>
                        </div>
                    </div>

                    <!-- Period Information -->
                    <div class="romantic-card" data-aos="fade-up" data-aos-delay="250">
                        <div class="card-header">
                            <h3><i class="fas fa-calendar-week"></i> Health Information</h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <div class="health-item">
                                        <div class="health-icon">üóìÔ∏è</div>
                                        <div class="health-details">
                                            <span class="health-label">Period Cycle</span>
                                            <span class="health-value">26 days</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="health-item">
                                        <div class="health-icon">üìÖ</div>
                                        <div class="health-details">
                                            <span class="health-label">Duration</span>
                                            <span class="health-value">3 days</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 mb-3">
                                    <div class="health-item">
                                        <div class="health-icon">üõçÔ∏è</div>
                                        <div class="health-details">
                                            <span class="health-label">Preferred Pads</span>
                                            <span class="health-value">Stayfree XL (35 rupees)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
function revealSensitiveInfo() {
    const password = document.getElementById('sensitive-password').value;
    const correctPassword = '112404'; // üîê set your own password here

    if (password === correctPassword) {
        const elements = document.querySelectorAll('.sensitive-content');
        elements.forEach(el => el.style.display = 'block');
        document.getElementById('password-section').style.display = 'none';
    } else {
        alert('Incorrect password.');
    }
}
</script>

<!-- Hidden file input for photo upload -->
<input type="file" id="profilePhotoInput" accept="image/*" style="display: none;" onchange="handleProfilePhotoSelect(event)">

<style>
.health-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: var(--romantic-lavender);
    border-radius: 15px;
    transition: all 0.3s ease;
}

.health-item:hover {
    transform: translateY(-2px);
    box-shadow: var(--romantic-shadow);
}

.health-icon {
    font-size: 2rem;
    width: 50px;
    text-align: center;
}

.health-details {
    flex: 1;
}

.health-label {
    display: block;
    font-weight: 600;
    color: var(--romantic-purple);
    margin-bottom: 0.25rem;
}

.health-value {
    display: block;
    color: var(--romantic-dark-pink);
    font-size: 0.9rem;
}

.dream-ring-card {
    background: linear-gradient(135deg, #ffeef5 0%, #f8f0ff 100%);
    padding: 2rem;
    border-radius: 20px;
    border: 2px solid var(--romantic-pink);
}

.ring-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.dream-ring-card h4 {
    color: var(--romantic-purple);
    margin-bottom: 1rem;
    font-family: 'Dancing Script', cursive;
    font-size: 1.8rem;
}

.dream-ring-card p {
    color: var(--romantic-dark-pink);
    margin-bottom: 0.5rem;
    font-weight: 500;
}

.profile-photo-container {
    position: relative;
    text-align: center;
}

.profile-photo-placeholder {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    background: linear-gradient(45deg, #ff69b4, #ff1493);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
    color: white;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.profile-photo-placeholder:hover {
    transform: scale(1.05);
}

.profile-photo-placeholder i {
    font-size: 60px;
    margin-bottom: 10px;
}

.profile-photo-placeholder .upload-text {
    font-size: 14px;
    margin: 0;
    font-weight: 500;
}

.profile-photo-display {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
    margin: 0 auto 20px;
    display: block;
    border: 4px solid #ff69b4;
    box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
}

.photo-actions {
    display: flex;
    gap: 10px;
    justify-content: center;
    flex-wrap: wrap;
}
    #password-section {
      max-width: 280px;
      margin: 0 auto;
      padding: 18px 20px;
      text-align: center;
      background: #fff0f6;
      border: 1px solid #f3c6d3;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(243, 198, 211, 0.4);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* Desktop only: apply -30px margin-top */
    @media (min-width: 992px) {
      #password-section {
        margin-top: -30px;
        margin-left: -20px;
      }
    }

    /* rest of styles remain the same */

    #password-section input[type="password"] {
      width: 100%;
      padding: 8px 10px;
      font-size: 0.9rem;
      border: 1.5px solid #f3c6d3;
      border-radius: 10px;
      box-sizing: border-box;
      color: #6a4a60;
      font-weight: 500;
      transition: border-color 0.3s ease;
    }

    #password-section input[type="password"]:focus {
      border-color: #d16ba5;
      outline: none;
      box-shadow: 0 0 8px #f7a1c1;
    }

    #password-section button {
      width: 100%;
      margin-top: 10px;
      padding: 8px;
      font-size: 0.9rem;
      background-color: #d16ba5;
      border: none;
      border-radius: 10px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(209, 107, 165, 0.6);
      transition: background-color 0.3s ease;
    }

    #password-section button:hover {
      background-color: #b2588b;
    }
.photo-btn {
    padding: 8px 16px;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 5px;
}

.upload-btn {
    background: linear-gradient(45deg, #ff69b4, #ff1493);
    color: white;
}

.upload-btn:hover {
    background: linear-gradient(45deg, #ff1493, #c71585);
    transform: translateY(-2px);
}

.remove-btn {
    background: linear-gradient(45deg, #dc3545, #c82333);
    color: white;
}

.remove-btn:hover {
    background: linear-gradient(45deg, #c82333, #bd2130);
    transform: translateY(-2px);
}

.photo-loading {
    opacity: 0.6;
    pointer-events: none;
}

.trait-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    background: rgba(255, 182, 193, 0.1);
    border-radius: 10px;
    transition: all 0.3s ease;
}

.trait-item:hover {
    background: rgba(255, 182, 193, 0.2);
    transform: translateX(5px);
}

.hobbies-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
}

.hobby-tag {
    background: linear-gradient(45deg, #ff69b4, #ff1493);
    color: white;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.3s ease;
}

.hobby-tag:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 105, 180, 0.3);
}

.gift-category {
    background: rgba(255, 182, 193, 0.1);
    padding: 20px;
    border-radius: 15px;
    text-align: center;
    transition: all 0.3s ease;
    height: 100%;
}

.gift-category:hover {
    background: rgba(255, 182, 193, 0.2);
    transform: translateY(-5px);
}

.gift-category h6 {
    color: #ff69b4;
    margin-bottom: 15px;
    font-size: 16px;
    font-weight: 600;
}

.gift-category h6 i {
    margin-right: 8px;
}

.gift-description {
    color: #666;
    font-size: 14px;
    line-height: 1.5;
    margin: 0;
}

@media (max-width: 768px) {
    .profile-photo-placeholder,
    .profile-photo-display {
        width: 120px;
        height: 120px;
    }
    
    .profile-photo-placeholder i {
        font-size: 50px;
    }
    
    .photo-btn {
        padding: 6px 12px;
        font-size: 11px;
    }
    
    .hobbies-grid {
        gap: 8px;
    }
    
    .hobby-tag {
        padding: 6px 12px;
        font-size: 12px;
    }
    
    .gift-category {
        padding: 15px;
        margin-bottom: 15px;
    }
}
</style>
{% endblock %}

{% block extra_scripts %}
<script>
// Profile photo management (keep existing functionality)
function selectProfilePhoto() {
    document.getElementById('profilePhotoInput').click();
}

function handleProfilePhotoSelect(event) {
    const file = event.target.files[0];
    if (!file) return;

    if (!file.type.startsWith('image/')) {
        alert('Please select an image file.');
        return;
    }

    if (file.size > 5 * 1024 * 1024) {
        alert('Please select an image smaller than 5MB.');
        return;
    }

    const container = document.getElementById('profilePhotoContainer');
    container.classList.add('photo-loading');

    const formData = new FormData();
    formData.append('file', file);

    fetch('/api/upload_file', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === 'success') {
            displayProfilePhoto(data.file_url);
            saveProfilePhotoUrl(data.file_url);
        } else {
            alert('Error uploading photo: ' + (data.error || 'Unknown error'));
        }
    })
    .catch(error => {
        console.error('Upload error:', error);
        alert('Error uploading photo: ' + error.message);
    })
    .finally(() => {
        container.classList.remove('photo-loading');
        event.target.value = '';
    });
}

function displayProfilePhoto(photoUrl) {
    const placeholder = document.getElementById('photoPlaceholder');
    const photoImg = document.getElementById('profilePhoto');
    const removeBtn = document.getElementById('removePhotoBtn');

    placeholder.style.display = 'none';
    photoImg.src = photoUrl;
    photoImg.style.display = 'block';
    removeBtn.style.display = 'inline-flex';
}

function removeProfilePhoto() {
    if (!confirm('Are you sure you want to remove this photo?')) {
        return;
    }

    const placeholder = document.getElementById('photoPlaceholder');
    const photoImg = document.getElementById('profilePhoto');
    const removeBtn = document.getElementById('removePhotoBtn');

    placeholder.style.display = 'flex';
    photoImg.style.display = 'none';
    photoImg.src = '';
    removeBtn.style.display = 'none';

    localStorage.removeItem('profilePhotoUrl');
}

function saveProfilePhotoUrl(url) {
    localStorage.setItem('profilePhotoUrl', url);
}

function loadSavedProfilePhoto() {
    const savedUrl = localStorage.getItem('profilePhotoUrl');
    if (savedUrl) {
        const img = new Image();
        img.onload = function() {
            displayProfilePhoto(savedUrl);
        };
        img.onerror = function() {
            localStorage.removeItem('profilePhotoUrl');
        };
        img.src = savedUrl;
    }
}

document.addEventListener('DOMContentLoaded', function() {
    loadSavedProfilePhoto();
});
</script>
{% endblock %}